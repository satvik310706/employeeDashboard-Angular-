<div class="employee-container">
    <div class="signin-box">
        <h2 class="signin-title">Create Employee Account</h2>
        <form class="form-grid" #form="ngForm">
            <div class="form-group">
                <label>Employee Name</label>
                <input type="text" #uname="ngModel" [(ngModel)]="newEmp.employeeName" name="employeeName" required />
                @if(uname.errors?.['required'] && uname.touched){
                <small class="text-danger">This is required</small> }
            </div>

            <div class="form-group">
                <label>Contact Number</label>
                <input type="text" #number="ngModel" [(ngModel)]="newEmp.contactNo" name="contactNo" required />
                @if(number.errors?.['required'] && number.touched){
                <small class="text-danger">This is required</small> }
            </div>

            <div class="form-group">
                <label>Email ID</label>
                <input type="email" #email="ngModel" [(ngModel)]="newEmp.emailId" name="emailId" required />
                @if(email.errors?.['required'] && email.touched){
                <small class="text-danger">This is required</small> }
            </div>

            <div class="form-group">
                <label for="deptId">Department</label>
                <select id="deptId" [(ngModel)]="newEmp.deptId" #dep="ngModel" name="deptId" required>
                    <option [ngValue]="0" disabled>Select Department</option>
                    <option *ngFor="let dept of depsList$ | async" [ngValue]="dept.deptId">{{ dept.deptName }}</option>
                </select>
                @if(dep.errors?.['required'] && dep.touched){
                <small class="text-danger">This is required</small> }
            </div>

            <div class="form-group">
                <label>Password</label>
                <input type="password" #pass="ngModel" [(ngModel)]="newEmp.password" name="password" required />
                @if(pass.errors?.['required'] && pass.touched){
                <small class="text-danger">This is required</small> }
            </div>

            <div class="form-group">
                <label>Gender</label>
                <select [(ngModel)]="newEmp.gender" #gen="ngModel" name="gender" required>
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                @if(gen.errors?.['required'] && gen.touched){
                <small class="text-danger">This is required</small> }
            </div>

            <div class="form-group">
                <label for="role">Role</label>
                <select id="role" [(ngModel)]="newEmp.role" #role="ngModel" name="role" required>
                    <option value="" disabled>Select Role</option>
                    <option *ngFor="let role of roleList$ | async" [value]="role">{{ role }}</option>
                </select>
                @if(role.errors?.['required'] && role.touched){
                <small class="text-danger">This is required</small> }
            </div>

            <div class="form-actions full-width">
                <button type="submit" class="submit-btn" [disabled]="form.invalid"
                    (click)="submitForm()">Submit</button>
            </div>
        </form>
    </div>
</div>